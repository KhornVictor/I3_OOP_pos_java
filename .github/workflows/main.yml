name: Telegram Notification
on: [push, pull_request]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Message
        uses: appleboy/telegram-action@master
        with:
          to: ${{ secrets.TELEGRAM_TO }}
          token: ${{ secrets.TELEGRAM_TOKEN }}
          format: markdown
          message: |
            ${{ github.event_name == 'push' && 'ğŸš€ **NEW PUSH**' || ' git   **PULL REQUEST**' }}
            
            ğŸ‘¤ **By:** ${{ github.actor }}
            ğŸ“‚ **Repo:** ${{ github.repository }}
            
            ${{ github.event_name == 'push' 
                && format('ğŸ“ **Commit:** {0}', github.event.head_commit.message) 
                || format('ğŸ“ **PR Title:** {0}', github.event.pull_request.title) }}
            
            ğŸ”— [View Details](${{ github.event_name == 'push' && github.event.compare || github.event.pull_request.html_url }})
